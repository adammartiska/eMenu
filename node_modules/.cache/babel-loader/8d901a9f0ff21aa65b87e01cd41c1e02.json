{"ast":null,"code":"import \"../../../utilities/globals/index.js\";\nimport { useEffect, useRef } from \"react\";\nexport function useAfterFastRefresh(effectFn) {\n  if (__DEV__) {\n    var didRefresh_1 = useRef(false);\n    useEffect(function () {\n      return function () {\n        didRefresh_1.current = true;\n      };\n    }, []);\n    useEffect(function () {\n      if (didRefresh_1.current === true) {\n        didRefresh_1.current = false;\n        effectFn();\n      }\n    }, []);\n  }\n}","map":{"version":3,"sources":["../../../../src/react/hooks/utils/useAfterFastRefresh.ts"],"names":[],"mappings":"AAAA,OAAO,qCAAP;AACA,SAAS,SAAT,EAAoB,MAApB,QAAkC,OAAlC;AAUA,OAAM,SAAU,mBAAV,CAA8B,QAA9B,EAAqD;AACzD,MAAI,OAAJ,EAAa;AACX,QAAM,YAAU,GAAG,MAAM,CAAC,KAAD,CAAzB;AACA,IAAA,SAAS,CAAC,YAAA;AACR,aAAO,YAAA;AAEL,QAAA,YAAU,CAAC,OAAX,GAAqB,IAArB;AACD,OAHD;AAID,KALQ,EAKN,EALM,CAAT;AAOA,IAAA,SAAS,CAAC,YAAA;AACR,UAAI,YAAU,CAAC,OAAX,KAAuB,IAA3B,EAAiC;AAE/B,QAAA,YAAU,CAAC,OAAX,GAAqB,KAArB;AACA,QAAA,QAAQ;AACT;AACF,KANQ,EAMN,EANM,CAAT;AAOD;AACF","sourcesContent":["import '../../../utilities/globals';\nimport { useEffect, useRef } from \"react\";\n\n/**\n * This hook allows running a function only immediately after a react\n * fast refresh or live reload.\n *\n * Useful in order to ensure that we can reinitialize things that have been\n * disposed by cleanup functions in `useEffect`.\n * @param effectFn a function to run immediately after a fast refresh\n */\nexport function useAfterFastRefresh(effectFn: () => unknown) {\n  if (__DEV__) {\n    const didRefresh = useRef(false);\n    useEffect(() => {\n      return () => {\n        // Detect fast refresh, only runs multiple times in fast refresh\n        didRefresh.current = true;\n      };\n    }, []);\n\n    useEffect(() => {\n      if (didRefresh.current === true) {\n        // This block only runs after a fast refresh\n        didRefresh.current = false;\n        effectFn();\n      }\n    }, [])\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}