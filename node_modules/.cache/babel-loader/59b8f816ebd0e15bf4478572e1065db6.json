{"ast":null,"code":"var _jsxFileName = \"/Users/adammartiska/Projects/eMenu/GUI/eMenu-customer/src/pages/food-menu-page.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToCart, cacheMeals } from \"./mealsSlice\";\nimport { useMealsQuery } from \"../generated/graphql\";\nimport { find } from \"ramda\";\nimport \"./food-menu-page.scss\";\nimport FoodCard from \"../components/FoodCard\";\nimport Box from \"@mui/material/Box\";\nimport Paper from \"@mui/material/Paper\";\nimport Typography from \"@mui/material/Typography\";\nimport SwipeableDrawer from \"@mui/material/SwipeableDrawer\";\nimport Button from \"@mui/material/Button\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport TextareaAutosize from \"@mui/material/TextareaAutosize\";\nimport TextField from \"@mui/material/TextField\";\nimport Divider from \"@mui/material/Divider\";\nimport AddShoppingCartIcon from \"@mui/icons-material/AddShoppingCart\";\nimport burgerUrl from \"./burger.jpeg\";\nimport { getMealById } from \"../utils/utils\";\nimport { SwipeableBottomDrawer } from \"../components/SwipeableBottomDrawer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FoodMenuPage = () => {\n  _s();\n\n  const mealsOrder = useSelector(state => {\n    var _state$meals;\n\n    return state === null || state === void 0 ? void 0 : (_state$meals = state.meals) === null || _state$meals === void 0 ? void 0 : _state$meals.mealOrder;\n  });\n  const {\n    data: meals,\n    error,\n    loading\n  } = useMealsQuery();\n  const [mealOrder, setMealOrder] = React.useState({});\n  const [showDrawer, setShowDrawer] = React.useState(false);\n  const [currentlyOpenedMealId, setCurrentlyOpenedMealId] = React.useState(null);\n  const [currentMealCount, setCurrentMealCount] = React.useState(1);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    // cache meals once its data is loaded\n    dispatch(cacheMeals(meals));\n  }, [meals, dispatch]);\n  const handleAddButtonClick = React.useCallback(id => setMealOrder({ ...mealOrder,\n    [id]: ++mealOrder[id]\n  }), [mealOrder]);\n  const handleRemoveButtonClick = React.useCallback(id => {\n    if (mealOrder[id] === 0) {\n      return;\n    }\n\n    setMealOrder({ ...mealOrder,\n      [id]: --mealOrder[id]\n    });\n  }, [mealOrder]); //TODO ADD some kind of user notification that items were added into cart\n\n  const handleAddToBag = React.useCallback(_ref => {\n    let {\n      id,\n      count,\n      additionalOrderInfo\n    } = _ref;\n    dispatch(addToCart({\n      id,\n      count,\n      additionalOrderInfo: additionalOrderInfo !== null && additionalOrderInfo !== void 0 ? additionalOrderInfo : undefined\n    }));\n    setShowDrawer(false);\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"food-menu-page-wrapper\",\n    children: [meals === null || meals === void 0 ? void 0 : meals.meals.map(_ref2 => {\n      let {\n        id,\n        name,\n        price\n      } = _ref2;\n      return /*#__PURE__*/_jsxDEV(FoodCard, {\n        id: id,\n        title: name,\n        count: mealOrder.cocaCola,\n        price: price,\n        onClick: id => {\n          setCurrentlyOpenedMealId(id);\n          setShowDrawer(true);\n        } //onClick={(id) => console.log(id)}\n\n      }, id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(SwipeableBottomDrawer, {\n      isMeal: true,\n      showDrawer: showDrawer,\n      setShowDrawer: setShowDrawer,\n      handleAddToBag: handleAddToBag,\n      currentlyOpenedItemId: currentlyOpenedMealId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FoodMenuPage, \"Pe/xQwd4JNQUHsg0zPCpEy4L1g8=\", false, function () {\n  return [useSelector, useMealsQuery, useDispatch];\n});\n\n_c = FoodMenuPage;\nexport default FoodMenuPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"FoodMenuPage\");","map":{"version":3,"sources":["/Users/adammartiska/Projects/eMenu/GUI/eMenu-customer/src/pages/food-menu-page.js"],"names":["React","useDispatch","useSelector","addToCart","cacheMeals","useMealsQuery","find","FoodCard","Box","Paper","Typography","SwipeableDrawer","Button","Checkbox","FormControlLabel","TextareaAutosize","TextField","Divider","AddShoppingCartIcon","burgerUrl","getMealById","SwipeableBottomDrawer","FoodMenuPage","mealsOrder","state","meals","mealOrder","data","error","loading","setMealOrder","useState","showDrawer","setShowDrawer","currentlyOpenedMealId","setCurrentlyOpenedMealId","currentMealCount","setCurrentMealCount","dispatch","useEffect","handleAddButtonClick","useCallback","id","handleRemoveButtonClick","handleAddToBag","count","additionalOrderInfo","undefined","map","name","price","cocaCola"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToCart, cacheMeals } from \"./mealsSlice\";\nimport { useMealsQuery } from \"../generated/graphql\";\nimport { find } from \"ramda\";\nimport \"./food-menu-page.scss\";\nimport FoodCard from \"../components/FoodCard\";\nimport Box from \"@mui/material/Box\";\nimport Paper from \"@mui/material/Paper\";\nimport Typography from \"@mui/material/Typography\";\nimport SwipeableDrawer from \"@mui/material/SwipeableDrawer\";\nimport Button from \"@mui/material/Button\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport TextareaAutosize from \"@mui/material/TextareaAutosize\";\nimport TextField from \"@mui/material/TextField\";\nimport Divider from \"@mui/material/Divider\";\nimport AddShoppingCartIcon from \"@mui/icons-material/AddShoppingCart\";\nimport burgerUrl from \"./burger.jpeg\";\nimport { getMealById } from \"../utils/utils\";\nimport { SwipeableBottomDrawer } from \"../components/SwipeableBottomDrawer\";\n\nconst FoodMenuPage = () => {\n  const mealsOrder = useSelector((state) => state?.meals?.mealOrder);\n  const { data: meals, error, loading } = useMealsQuery();\n  const [mealOrder, setMealOrder] = React.useState({});\n  const [showDrawer, setShowDrawer] = React.useState(false);\n  const [currentlyOpenedMealId, setCurrentlyOpenedMealId] =\n    React.useState(null);\n  const [currentMealCount, setCurrentMealCount] = React.useState(1);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    // cache meals once its data is loaded\n    dispatch(cacheMeals(meals));\n  }, [meals, dispatch]);\n\n  const handleAddButtonClick = React.useCallback(\n    (id) =>\n      setMealOrder({\n        ...mealOrder,\n        [id]: ++mealOrder[id],\n      }),\n    [mealOrder]\n  );\n\n  const handleRemoveButtonClick = React.useCallback(\n    (id) => {\n      if (mealOrder[id] === 0) {\n        return;\n      }\n      setMealOrder({\n        ...mealOrder,\n        [id]: --mealOrder[id],\n      });\n    },\n    [mealOrder]\n  );\n\n  //TODO ADD some kind of user notification that items were added into cart\n  const handleAddToBag = React.useCallback(\n    ({ id, count, additionalOrderInfo }) => {\n      dispatch(\n        addToCart({\n          id,\n          count,\n          additionalOrderInfo: additionalOrderInfo ?? undefined,\n        })\n      );\n      setShowDrawer(false);\n    },\n    [dispatch]\n  );\n  return (\n    <div className=\"food-menu-page-wrapper\">\n      {meals?.meals.map(({ id, name, price }) => (\n        <FoodCard\n          key={id}\n          id={id}\n          title={name}\n          count={mealOrder.cocaCola}\n          price={price}\n          onClick={(id) => {\n            setCurrentlyOpenedMealId(id);\n            setShowDrawer(true);\n          }}\n          //onClick={(id) => console.log(id)}\n        />\n      ))}\n      <SwipeableBottomDrawer\n        isMeal\n        showDrawer={showDrawer}\n        setShowDrawer={setShowDrawer}\n        handleAddToBag={handleAddToBag}\n        currentlyOpenedItemId={currentlyOpenedMealId}\n      />\n    </div>\n  );\n};\n\nexport default FoodMenuPage;\n"]},"metadata":{},"sourceType":"module"}